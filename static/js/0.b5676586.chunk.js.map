{"version":3,"sources":["../node_modules/@blueprintjs/select/lib/esm/common/classes.js","../node_modules/@blueprintjs/select/lib/esm/common/index.js","../node_modules/@blueprintjs/select/lib/esm/common/itemListRenderer.js","../node_modules/@blueprintjs/select/lib/esm/common/listItemsProps.js","../node_modules/@blueprintjs/select/lib/esm/common/listItemsUtils.js","../node_modules/@blueprintjs/select/lib/esm/components/query-list/queryList.js","../node_modules/@blueprintjs/select/lib/esm/components/select/select.js"],"names":["NS","getClassNamespace","MULTISELECT","MULTISELECT_POPOVER","OMNIBAR","OMNIBAR_OVERLAY","SELECT","SELECT_POPOVER","__webpack_require__","d","__webpack_exports__","classes_namespaceObject","renderFilteredItems","props","noResults","initialContent","query","length","undefined","items","filteredItems","map","renderItem","filter","item","executeItemsEqual","_blueprintjs_core__WEBPACK_IMPORTED_MODULE_0__","itemsEqualProp","itemA","itemB","isFunction","getCreateNewItem","__blueprintCreateNewItemBrand","isCreateNewItem","keys","Object","getActiveItem","activeItem","QueryList","tslib__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","_blueprintjs_core__WEBPACK_IMPORTED_MODULE_2__","_blueprintjs_core__WEBPACK_IMPORTED_MODULE_3__","_blueprintjs_core__WEBPACK_IMPORTED_MODULE_4__","_common__WEBPACK_IMPORTED_MODULE_5__","_common__WEBPACK_IMPORTED_MODULE_6__","_common__WEBPACK_IMPORTED_MODULE_7__","_super","context","_this","call","this","refHandlers","itemsParent","ref","itemsParentRef","shouldCheckActiveItemInViewport","expectedNextActiveItem","renderItemList","listProps","_a","maybeNoResults","isCreateItemRendered","menuContent","createItemView","renderCreateItemMenuItem","state","ulRef","index","matchesPredicate","indexOf","modifiers","active","itemsEqual","disabled","isItemDisabled","itemDisabled","itemRenderer","handleClick","e","handleItemSelect","isActive","safeInvoke","createNewItemRenderer","evt","handleItemCreate","createNewItemFromQuery","onItemSelect","setQuery","event","setActiveItem","resetOnSelect","handlePaste","queries","nextActiveItem","onItemsPaste","nextQueries","pastedItemsToEmit","_i","queries_1","equalItem","getMatchingItem","push","canCreateItems","newItem","join","handleKeyDown","keyCode","ARROW_UP","ARROW_DOWN","preventDefault","getNextActiveItem","onKeyDown","handleKeyUp","onKeyUp","ENTER","handleQueryChange","target","value","onQueryChange","createNewItem","getFilteredItems","getFirstEnabledItem","ofType","prototype","render","className","renderer","_b","itemListRenderer","_c","spreadableState","itemList","componentWillReceiveProps","nextProps","setState","resetOnQuery","componentDidUpdate","prevProps","shallowCompareKeys","include","requestAnimationFrame","scrollActiveItemIntoView","scrollToActiveItem","externalChangeToActiveItem","activeElement","getActiveElement","activeTop","offsetTop","activeHeight","offsetHeight","parentOffsetTop","parentScrollTop","scrollTop","parentHeight","clientHeight","getItemsParentPadding","paddingTop","activeBottomEdge","paddingBottom","activeTopEdge","resetActiveItem","hasQueryChanged","activeIndex","getActiveIndex","shouldUpdateActiveItem","children","i","getComputedStyle","pxToNumber","direction","startIndex","onActiveItemChange","wouldCreatedItemMatchSomeExistingItem","some","displayName","defaultProps","parseInt","slice","itemPredicate","itemListPredicate","min","max","maxIndex","Select","classnames__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_1___default","n","react__WEBPACK_IMPORTED_MODULE_2__","_blueprintjs_core__WEBPACK_IMPORTED_MODULE_5__","_blueprintjs_core__WEBPACK_IMPORTED_MODULE_6__","_blueprintjs_core__WEBPACK_IMPORTED_MODULE_7__","_blueprintjs_core__WEBPACK_IMPORTED_MODULE_8__","_common__WEBPACK_IMPORTED_MODULE_9__","_query_list_queryList__WEBPACK_IMPORTED_MODULE_10__","apply","arguments","isOpen","TypedQueryList","input","queryList","safeInvokeMember","inputProps","renderQueryList","filterable","_d","_e","popoverProps","leftIcon","placeholder","rightElement","maybeRenderClearButton","inputRef","onChange","autoFocus","enforceFocus","position","BOTTOM_LEFT","onInteraction","handlePopoverInteraction","popoverClassName","onOpening","handlePopoverOpening","onOpened","handlePopoverOpened","onClosing","handlePopoverClosing","handleTargetKeyDown","which","node","previousFocusedElement","document","resetOnClose","resetQuery","focus","restProps","_prevProps","prevState","icon","minimal","onClick"],"mappings":"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","file":"static/js/0.b5676586.chunk.js","sourcesContent":["/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Classes } from \"@blueprintjs/core\";\nvar NS = Classes.getClassNamespace();\nexport var MULTISELECT = NS + \"-multi-select\";\nexport var MULTISELECT_POPOVER = MULTISELECT + \"-popover\";\nexport var OMNIBAR = NS + \"-omnibar\";\nexport var OMNIBAR_OVERLAY = OMNIBAR + \"-overlay\";\nexport var SELECT = NS + \"-select\";\nexport var SELECT_POPOVER = SELECT + \"-popover\";","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as Classes from \"./classes\";\nexport { Classes };\nexport * from \"./itemListRenderer\";\nexport * from \"./listItemsProps\";\nexport * from \"./listItemsUtils\";","/*!\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * `ItemListRenderer` helper method for rendering each item in `filteredItems`,\n * with optional support for `noResults` (when filtered items is empty)\n * and `initialContent` (when query is empty).\n */\nexport function renderFilteredItems(props, noResults, initialContent) {\n  if (props.query.length === 0 && initialContent !== undefined) {\n    return initialContent;\n  }\n\n  var items = props.filteredItems.map(props.renderItem).filter(function (item) {\n    return item != null;\n  });\n  return items.length > 0 ? items : noResults;\n}","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Utils } from \"@blueprintjs/core\";\n/**\n * Utility function for executing the {@link IListItemsProps#itemsEqual} prop to test\n * for equality between two items.\n * @return `true` if the two items are equivalent according to `itemsEqualProp`.\n */\n\nexport function executeItemsEqual(itemsEqualProp, itemA, itemB) {\n  // Use strict equality if:\n  // A) Default equality check is necessary because itemsEqualProp is undefined.\n  // OR\n  // B) Either item is null/undefined. Note that null represents \"no item\", while\n  //    undefined represents an uncontrolled prop. This strict equality check ensures\n  //    nothing will ever be considered equivalent to an uncontrolled prop.\n  if (itemsEqualProp === undefined || itemA == null || itemB == null) {\n    return itemA === itemB;\n  }\n\n  if (Utils.isFunction(itemsEqualProp)) {\n    // itemsEqualProp is an equality comparator function, so use it\n    return itemsEqualProp(itemA, itemB);\n  } else {\n    // itemsEqualProp is a property name, so strictly compare the values of the property.\n    return itemA[itemsEqualProp] === itemB[itemsEqualProp];\n  }\n}","/*!\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** Returns an instance of a \"Create Item\" object. */\nexport function getCreateNewItem() {\n  return {\n    __blueprintCreateNewItemBrand: \"blueprint-create-new-item\"\n  };\n}\n/**\n * Type guard returning `true` if the provided item (e.g. the current\n * `activeItem`) is a \"Create Item\" option.\n */\n\nexport function isCreateNewItem(item) {\n  if (item == null) {\n    return false;\n  } // see if the provided item exactly matches the `ICreateNewItem` object,\n  // with no superfluous keys.\n\n\n  var keys = Object.keys(item);\n\n  if (keys.length !== 1 || keys[0] !== \"__blueprintCreateNewItemBrand\") {\n    return false;\n  }\n\n  return item.__blueprintCreateNewItemBrand === \"blueprint-create-new-item\";\n}\n/**\n * Returns the type of the the current active item. This will be a no-op unless\n * the `activeItem` is `undefined` or a \"Create Item\" option, in which case\n * `null` will be returned instead.\n */\n\nexport function getActiveItem(activeItem) {\n  return activeItem == null || isCreateNewItem(activeItem) ? null : activeItem;\n}","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as React from \"react\";\nimport { DISPLAYNAME_PREFIX, Keys, Menu, Utils } from \"@blueprintjs/core\";\nimport { executeItemsEqual, getActiveItem, getCreateNewItem, isCreateNewItem, renderFilteredItems } from \"../../common\";\n\nvar QueryList =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(QueryList, _super);\n\n  function QueryList(props, context) {\n    var _this = _super.call(this, props, context) || this;\n\n    _this.refHandlers = {\n      itemsParent: function itemsParent(ref) {\n        return _this.itemsParentRef = ref;\n      }\n    };\n    /**\n     * Flag indicating that we should check whether selected item is in viewport\n     * after rendering, typically because of keyboard change. Set to `true` when\n     * manipulating state in a way that may cause active item to scroll away.\n     */\n\n    _this.shouldCheckActiveItemInViewport = false;\n    /**\n     * The item that we expect to be the next selected active item (based on click\n     * or key interactions). When scrollToActiveItem = false, used to detect if\n     * an unexpected external change to the active item has been made.\n     */\n\n    _this.expectedNextActiveItem = null;\n    /** default `itemListRenderer` implementation */\n\n    _this.renderItemList = function (listProps) {\n      var _a = _this.props,\n          initialContent = _a.initialContent,\n          noResults = _a.noResults; // omit noResults if createNewItemFromQuery and createNewItemRenderer are both supplied, and query is not empty\n\n      var maybeNoResults = _this.isCreateItemRendered() ? null : noResults;\n      var menuContent = renderFilteredItems(listProps, maybeNoResults, initialContent);\n      var createItemView = _this.isCreateItemRendered() ? _this.renderCreateItemMenuItem(_this.state.query) : null;\n\n      if (menuContent == null && createItemView == null) {\n        return null;\n      }\n\n      return React.createElement(Menu, {\n        ulRef: listProps.itemsParentRef\n      }, menuContent, createItemView);\n    };\n    /** wrapper around `itemRenderer` to inject props */\n\n\n    _this.renderItem = function (item, index) {\n      var _a = _this.state,\n          activeItem = _a.activeItem,\n          query = _a.query;\n      var matchesPredicate = _this.state.filteredItems.indexOf(item) >= 0;\n      var modifiers = {\n        active: executeItemsEqual(_this.props.itemsEqual, getActiveItem(activeItem), item),\n        disabled: isItemDisabled(item, index, _this.props.itemDisabled),\n        matchesPredicate: matchesPredicate\n      };\n      return _this.props.itemRenderer(item, {\n        handleClick: function handleClick(e) {\n          return _this.handleItemSelect(item, e);\n        },\n        index: index,\n        modifiers: modifiers,\n        query: query\n      });\n    };\n\n    _this.renderCreateItemMenuItem = function (query) {\n      var activeItem = _this.state.activeItem;\n\n      var handleClick = function handleClick(evt) {\n        _this.handleItemCreate(query, evt);\n      };\n\n      var isActive = isCreateNewItem(activeItem);\n      return Utils.safeInvoke(_this.props.createNewItemRenderer, query, isActive, handleClick);\n    };\n\n    _this.handleItemCreate = function (query, evt) {\n      // we keep a cached createNewItem in state, but might as well recompute\n      // the result just to be sure it's perfectly in sync with the query.\n      var item = Utils.safeInvoke(_this.props.createNewItemFromQuery, query);\n\n      if (item != null) {\n        Utils.safeInvoke(_this.props.onItemSelect, item, evt);\n\n        _this.setQuery(\"\", true);\n      }\n    };\n\n    _this.handleItemSelect = function (item, event) {\n      _this.setActiveItem(item);\n\n      Utils.safeInvoke(_this.props.onItemSelect, item, event);\n\n      if (_this.props.resetOnSelect) {\n        _this.setQuery(\"\", true);\n      }\n    };\n\n    _this.handlePaste = function (queries) {\n      var _a = _this.props,\n          createNewItemFromQuery = _a.createNewItemFromQuery,\n          onItemsPaste = _a.onItemsPaste;\n      var nextActiveItem;\n      var nextQueries = []; // Find an exising itemÂ that exactly matches each pasted value, or\n      // create a new item if possible. Ignore unmatched values if creating\n      // items is disabled.\n\n      var pastedItemsToEmit = [];\n\n      for (var _i = 0, queries_1 = queries; _i < queries_1.length; _i++) {\n        var query = queries_1[_i];\n        var equalItem = getMatchingItem(query, _this.props);\n\n        if (equalItem !== undefined) {\n          nextActiveItem = equalItem;\n          pastedItemsToEmit.push(equalItem);\n        } else if (_this.canCreateItems()) {\n          var newItem = Utils.safeInvoke(createNewItemFromQuery, query);\n\n          if (newItem !== undefined) {\n            pastedItemsToEmit.push(newItem);\n          }\n        } else {\n          nextQueries.push(query);\n        }\n      } // UX nicety: combine all unmatched queries into a single\n      // comma-separated query in the input, so we don't lose any information.\n      // And don't reset the active item; we'll do that ourselves below.\n\n\n      _this.setQuery(nextQueries.join(\", \"), false); // UX nicety: update the active item if we matched with at least one\n      // existing item.\n\n\n      if (nextActiveItem !== undefined) {\n        _this.setActiveItem(nextActiveItem);\n      }\n\n      Utils.safeInvoke(onItemsPaste, pastedItemsToEmit);\n    };\n\n    _this.handleKeyDown = function (event) {\n      var keyCode = event.keyCode;\n\n      if (keyCode === Keys.ARROW_UP || keyCode === Keys.ARROW_DOWN) {\n        event.preventDefault();\n\n        var nextActiveItem = _this.getNextActiveItem(keyCode === Keys.ARROW_UP ? -1 : 1);\n\n        if (nextActiveItem != null) {\n          _this.setActiveItem(nextActiveItem);\n        }\n      }\n\n      Utils.safeInvoke(_this.props.onKeyDown, event);\n    };\n\n    _this.handleKeyUp = function (event) {\n      var onKeyUp = _this.props.onKeyUp;\n      var activeItem = _this.state.activeItem; // using keyup for enter to play nice with Button's keyboard clicking.\n      // if we were to process enter on keydown, then Button would click itself on keyup\n      // and the popvoer would re-open out of our control :(.\n\n      if (event.keyCode === Keys.ENTER) {\n        event.preventDefault();\n\n        if (activeItem == null || isCreateNewItem(activeItem)) {\n          _this.handleItemCreate(_this.state.query, event);\n        } else {\n          _this.handleItemSelect(activeItem, event);\n        }\n      }\n\n      Utils.safeInvoke(onKeyUp, event);\n    };\n\n    _this.handleQueryChange = function (event) {\n      var query = event == null ? \"\" : event.target.value;\n\n      _this.setQuery(query);\n\n      Utils.safeInvoke(_this.props.onQueryChange, query, event);\n    };\n\n    var _a = props.query,\n        query = _a === void 0 ? \"\" : _a;\n    var createNewItem = Utils.safeInvoke(props.createNewItemFromQuery, query);\n    var filteredItems = getFilteredItems(query, props);\n    _this.state = {\n      activeItem: _this.props.activeItem !== undefined ? _this.props.activeItem : getFirstEnabledItem(filteredItems, props.itemDisabled),\n      createNewItem: createNewItem,\n      filteredItems: filteredItems,\n      query: query\n    };\n    return _this;\n  }\n\n  QueryList.ofType = function () {\n    return QueryList;\n  };\n\n  QueryList.prototype.render = function () {\n    var _a = this.props,\n        className = _a.className,\n        items = _a.items,\n        renderer = _a.renderer,\n        _b = _a.itemListRenderer,\n        itemListRenderer = _b === void 0 ? this.renderItemList : _b;\n\n    var _c = this.state,\n        createNewItem = _c.createNewItem,\n        spreadableState = tslib_1.__rest(_c, [\"createNewItem\"]);\n\n    return renderer(tslib_1.__assign({}, spreadableState, {\n      className: className,\n      handleItemSelect: this.handleItemSelect,\n      handleKeyDown: this.handleKeyDown,\n      handleKeyUp: this.handleKeyUp,\n      handlePaste: this.handlePaste,\n      handleQueryChange: this.handleQueryChange,\n      itemList: itemListRenderer(tslib_1.__assign({}, spreadableState, {\n        items: items,\n        itemsParentRef: this.refHandlers.itemsParent,\n        renderItem: this.renderItem\n      }))\n    }));\n  };\n\n  QueryList.prototype.componentWillReceiveProps = function (nextProps) {\n    if (nextProps.activeItem !== undefined) {\n      this.shouldCheckActiveItemInViewport = true;\n      this.setState({\n        activeItem: nextProps.activeItem\n      });\n    }\n\n    if (nextProps.query != null) {\n      this.setQuery(nextProps.query, nextProps.resetOnQuery, nextProps);\n    }\n  };\n\n  QueryList.prototype.componentDidUpdate = function (prevProps) {\n    var _this = this;\n\n    if (!Utils.shallowCompareKeys(this.props, prevProps, {\n      include: [\"items\", \"itemListPredicate\", \"itemPredicate\"]\n    })) {\n      this.setQuery(this.state.query);\n    }\n\n    if (this.shouldCheckActiveItemInViewport) {\n      // update scroll position immediately before repaint so DOM is accurate\n      // (latest filteredItems) and to avoid flicker.\n      requestAnimationFrame(function () {\n        return _this.scrollActiveItemIntoView();\n      }); // reset the flag\n\n      this.shouldCheckActiveItemInViewport = false;\n    }\n  };\n\n  QueryList.prototype.scrollActiveItemIntoView = function () {\n    var scrollToActiveItem = this.props.scrollToActiveItem !== false;\n    var externalChangeToActiveItem = !executeItemsEqual(this.props.itemsEqual, getActiveItem(this.expectedNextActiveItem), getActiveItem(this.props.activeItem));\n    this.expectedNextActiveItem = null;\n\n    if (!scrollToActiveItem && externalChangeToActiveItem) {\n      return;\n    }\n\n    var activeElement = this.getActiveElement();\n\n    if (this.itemsParentRef != null && activeElement != null) {\n      var activeTop = activeElement.offsetTop,\n          activeHeight = activeElement.offsetHeight;\n      var _a = this.itemsParentRef,\n          parentOffsetTop = _a.offsetTop,\n          parentScrollTop = _a.scrollTop,\n          parentHeight = _a.clientHeight; // compute padding on parent element to ensure we always leave space\n\n      var _b = this.getItemsParentPadding(),\n          paddingTop = _b.paddingTop,\n          paddingBottom = _b.paddingBottom; // compute the two edges of the active item for comparison, including parent padding\n\n\n      var activeBottomEdge = activeTop + activeHeight + paddingBottom - parentOffsetTop;\n      var activeTopEdge = activeTop - paddingTop - parentOffsetTop;\n\n      if (activeBottomEdge >= parentScrollTop + parentHeight) {\n        // offscreen bottom: align bottom of item with bottom of viewport\n        this.itemsParentRef.scrollTop = activeBottomEdge + activeHeight - parentHeight;\n      } else if (activeTopEdge <= parentScrollTop) {\n        // offscreen top: align top of item with top of viewport\n        this.itemsParentRef.scrollTop = activeTopEdge - activeHeight;\n      }\n    }\n  };\n\n  QueryList.prototype.setQuery = function (query, resetActiveItem, props) {\n    if (resetActiveItem === void 0) {\n      resetActiveItem = this.props.resetOnQuery;\n    }\n\n    if (props === void 0) {\n      props = this.props;\n    }\n\n    var createNewItemFromQuery = props.createNewItemFromQuery;\n    this.shouldCheckActiveItemInViewport = true;\n    var hasQueryChanged = query !== this.state.query;\n\n    if (hasQueryChanged) {\n      Utils.safeInvoke(props.onQueryChange, query);\n    }\n\n    var filteredItems = getFilteredItems(query, props);\n    var createNewItem = createNewItemFromQuery != null && query !== \"\" ? createNewItemFromQuery(query) : undefined;\n    this.setState({\n      createNewItem: createNewItem,\n      filteredItems: filteredItems,\n      query: query\n    }); // always reset active item if it's now filtered or disabled\n\n    var activeIndex = this.getActiveIndex(filteredItems);\n    var shouldUpdateActiveItem = resetActiveItem || activeIndex < 0 || isItemDisabled(getActiveItem(this.state.activeItem), activeIndex, props.itemDisabled);\n\n    if (hasQueryChanged && shouldUpdateActiveItem) {\n      this.setActiveItem(getFirstEnabledItem(filteredItems, props.itemDisabled));\n    }\n  };\n\n  QueryList.prototype.getActiveElement = function () {\n    var activeItem = this.state.activeItem;\n\n    if (this.itemsParentRef != null) {\n      if (isCreateNewItem(activeItem)) {\n        return this.itemsParentRef.children.item(this.state.filteredItems.length);\n      } else {\n        var activeIndex = this.getActiveIndex();\n        return this.itemsParentRef.children.item(activeIndex);\n      }\n    }\n\n    return undefined;\n  };\n\n  QueryList.prototype.getActiveIndex = function (items) {\n    if (items === void 0) {\n      items = this.state.filteredItems;\n    }\n\n    var activeItem = this.state.activeItem;\n\n    if (activeItem == null || isCreateNewItem(activeItem)) {\n      return -1;\n    } // NOTE: this operation is O(n) so it should be avoided in render(). safe for events though.\n\n\n    for (var i = 0; i < items.length; ++i) {\n      if (executeItemsEqual(this.props.itemsEqual, items[i], activeItem)) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  QueryList.prototype.getItemsParentPadding = function () {\n    // assert ref exists because it was checked before calling\n    var _a = getComputedStyle(this.itemsParentRef),\n        paddingTop = _a.paddingTop,\n        paddingBottom = _a.paddingBottom;\n\n    return {\n      paddingBottom: pxToNumber(paddingBottom),\n      paddingTop: pxToNumber(paddingTop)\n    };\n  };\n  /**\n   * Get the next enabled item, moving in the given direction from the start\n   * index. A `null` return value means no suitable item was found.\n   * @param direction amount to move in each iteration, typically +/-1\n   */\n\n\n  QueryList.prototype.getNextActiveItem = function (direction, startIndex) {\n    if (startIndex === void 0) {\n      startIndex = this.getActiveIndex();\n    }\n\n    if (this.isCreateItemRendered()) {\n      var reachedCreate = startIndex === 0 && direction === -1 || startIndex === this.state.filteredItems.length - 1 && direction === 1;\n\n      if (reachedCreate) {\n        return getCreateNewItem();\n      }\n    }\n\n    return getFirstEnabledItem(this.state.filteredItems, this.props.itemDisabled, direction, startIndex);\n  };\n\n  QueryList.prototype.setActiveItem = function (activeItem) {\n    this.expectedNextActiveItem = activeItem;\n\n    if (this.props.activeItem === undefined) {\n      // indicate that the active item may need to be scrolled into view after update.\n      this.shouldCheckActiveItemInViewport = true;\n      this.setState({\n        activeItem: activeItem\n      });\n    }\n\n    if (isCreateNewItem(activeItem)) {\n      Utils.safeInvoke(this.props.onActiveItemChange, null, true);\n    } else {\n      Utils.safeInvoke(this.props.onActiveItemChange, activeItem, false);\n    }\n  };\n\n  QueryList.prototype.isCreateItemRendered = function () {\n    return this.canCreateItems() && this.state.query !== \"\" && // this check is unfortunately O(N) on the number of items, but\n    // alas, hiding the \"Create Item\" option when it exactly matches an\n    // existing item is much clearer.\n    !this.wouldCreatedItemMatchSomeExistingItem();\n  };\n\n  QueryList.prototype.canCreateItems = function () {\n    return this.props.createNewItemFromQuery != null && this.props.createNewItemRenderer != null;\n  };\n\n  QueryList.prototype.wouldCreatedItemMatchSomeExistingItem = function () {\n    var _this = this; // search only the filtered items, not the full items list, because we\n    // only need to check items that match the current query.\n\n\n    return this.state.filteredItems.some(function (item) {\n      return executeItemsEqual(_this.props.itemsEqual, item, _this.state.createNewItem);\n    });\n  };\n\n  QueryList.displayName = DISPLAYNAME_PREFIX + \".QueryList\";\n  QueryList.defaultProps = {\n    resetOnQuery: true\n  };\n  return QueryList;\n}(React.Component);\n\nexport { QueryList };\n\nfunction pxToNumber(value) {\n  return value == null ? 0 : parseInt(value.slice(0, -2), 10);\n}\n\nfunction getMatchingItem(query, _a) {\n  var items = _a.items,\n      itemPredicate = _a.itemPredicate;\n\n  if (Utils.isFunction(itemPredicate)) {\n    // .find() doesn't exist in ES5. Alternative: use a for loop instead of\n    // .filter() so that we can return as soon as we find the first match.\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n\n      if (itemPredicate(query, item, i, true)) {\n        return item;\n      }\n    }\n  }\n\n  return undefined;\n}\n\nfunction getFilteredItems(query, _a) {\n  var items = _a.items,\n      itemPredicate = _a.itemPredicate,\n      itemListPredicate = _a.itemListPredicate;\n\n  if (Utils.isFunction(itemListPredicate)) {\n    // note that implementations can reorder the items here\n    return itemListPredicate(query, items);\n  } else if (Utils.isFunction(itemPredicate)) {\n    return items.filter(function (item, index) {\n      return itemPredicate(query, item, index);\n    });\n  }\n\n  return items;\n}\n/** Wrap number around min/max values: if it exceeds one bound, return the other. */\n\n\nfunction wrapNumber(value, min, max) {\n  if (value < min) {\n    return max;\n  } else if (value > max) {\n    return min;\n  }\n\n  return value;\n}\n\nfunction isItemDisabled(item, index, itemDisabled) {\n  if (itemDisabled == null || item == null) {\n    return false;\n  } else if (Utils.isFunction(itemDisabled)) {\n    return itemDisabled(item, index);\n  }\n\n  return !!item[itemDisabled];\n}\n/**\n * Get the next enabled item, moving in the given direction from the start\n * index. A `null` return value means no suitable item was found.\n * @param items the list of items\n * @param isItemDisabled callback to determine if a given item is disabled\n * @param direction amount to move in each iteration, typically +/-1\n * @param startIndex which index to begin moving from\n */\n\n\nexport function getFirstEnabledItem(items, itemDisabled, direction, startIndex) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  if (startIndex === void 0) {\n    startIndex = items.length - 1;\n  }\n\n  if (items.length === 0) {\n    return null;\n  } // remember where we started to prevent an infinite loop\n\n\n  var index = startIndex;\n  var maxIndex = items.length - 1;\n\n  do {\n    // find first non-disabled item\n    index = wrapNumber(index + direction, 0, maxIndex);\n\n    if (!isItemDisabled(items[index], index, itemDisabled)) {\n      return items[index];\n    }\n  } while (index !== startIndex);\n\n  return null;\n}","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { Button, DISPLAYNAME_PREFIX, InputGroup, Keys, Popover, Position, Utils } from \"@blueprintjs/core\";\nimport { Classes } from \"../../common\";\nimport { QueryList } from \"../query-list/queryList\";\n\nvar Select =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Select, _super);\n\n  function Select() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      isOpen: false\n    };\n    _this.TypedQueryList = QueryList.ofType();\n    _this.input = null;\n    _this.queryList = null;\n    _this.refHandlers = {\n      input: function input(ref) {\n        _this.input = ref;\n        Utils.safeInvokeMember(_this.props.inputProps, \"inputRef\", ref);\n      },\n      queryList: function queryList(ref) {\n        return _this.queryList = ref;\n      }\n    };\n\n    _this.renderQueryList = function (listProps) {\n      // not using defaultProps cuz they're hard to type with generics (can't use <T> on static members)\n      var _a = _this.props,\n          _b = _a.filterable,\n          filterable = _b === void 0 ? true : _b,\n          _c = _a.disabled,\n          disabled = _c === void 0 ? false : _c,\n          _d = _a.inputProps,\n          inputProps = _d === void 0 ? {} : _d,\n          _e = _a.popoverProps,\n          popoverProps = _e === void 0 ? {} : _e;\n      var input = React.createElement(InputGroup, tslib_1.__assign({\n        leftIcon: \"search\",\n        placeholder: \"Filter...\",\n        rightElement: _this.maybeRenderClearButton(listProps.query)\n      }, inputProps, {\n        inputRef: _this.refHandlers.input,\n        onChange: listProps.handleQueryChange,\n        value: listProps.query\n      }));\n      var handleKeyDown = listProps.handleKeyDown,\n          handleKeyUp = listProps.handleKeyUp;\n      return React.createElement(Popover, tslib_1.__assign({\n        autoFocus: false,\n        enforceFocus: false,\n        isOpen: _this.state.isOpen,\n        disabled: disabled,\n        position: Position.BOTTOM_LEFT\n      }, popoverProps, {\n        className: classNames(listProps.className, popoverProps.className),\n        onInteraction: _this.handlePopoverInteraction,\n        popoverClassName: classNames(Classes.SELECT_POPOVER, popoverProps.popoverClassName),\n        onOpening: _this.handlePopoverOpening,\n        onOpened: _this.handlePopoverOpened,\n        onClosing: _this.handlePopoverClosing\n      }), React.createElement(\"div\", {\n        onKeyDown: _this.state.isOpen ? handleKeyDown : _this.handleTargetKeyDown,\n        onKeyUp: _this.state.isOpen ? handleKeyUp : undefined\n      }, _this.props.children), React.createElement(\"div\", {\n        onKeyDown: handleKeyDown,\n        onKeyUp: handleKeyUp\n      }, filterable ? input : undefined, listProps.itemList));\n    };\n\n    _this.handleTargetKeyDown = function (event) {\n      // open popover when arrow key pressed on target while closed\n      if (event.which === Keys.ARROW_UP || event.which === Keys.ARROW_DOWN) {\n        event.preventDefault();\n\n        _this.setState({\n          isOpen: true\n        });\n      }\n    };\n\n    _this.handleItemSelect = function (item, event) {\n      _this.setState({\n        isOpen: false\n      });\n\n      Utils.safeInvoke(_this.props.onItemSelect, item, event);\n    };\n\n    _this.handlePopoverInteraction = function (isOpen) {\n      _this.setState({\n        isOpen: isOpen\n      });\n\n      Utils.safeInvokeMember(_this.props.popoverProps, \"onInteraction\", isOpen);\n    };\n\n    _this.handlePopoverOpening = function (node) {\n      // save currently focused element before popover steals focus, so we can restore it when closing.\n      _this.previousFocusedElement = document.activeElement;\n\n      if (_this.props.resetOnClose) {\n        _this.resetQuery();\n      }\n\n      Utils.safeInvokeMember(_this.props.popoverProps, \"onOpening\", node);\n    };\n\n    _this.handlePopoverOpened = function (node) {\n      // scroll active item into view after popover transition completes and all dimensions are stable.\n      if (_this.queryList != null) {\n        _this.queryList.scrollActiveItemIntoView();\n      }\n\n      requestAnimationFrame(function () {\n        var _a = _this.props.inputProps,\n            inputProps = _a === void 0 ? {} : _a; // autofocus is enabled by default\n\n        if (inputProps.autoFocus !== false && _this.input != null) {\n          _this.input.focus();\n        }\n      });\n      Utils.safeInvokeMember(_this.props.popoverProps, \"onOpened\", node);\n    };\n\n    _this.handlePopoverClosing = function (node) {\n      // restore focus to saved element.\n      // timeout allows popover to begin closing and remove focus handlers beforehand.\n      requestAnimationFrame(function () {\n        if (_this.previousFocusedElement !== undefined) {\n          _this.previousFocusedElement.focus();\n\n          _this.previousFocusedElement = undefined;\n        }\n      });\n      Utils.safeInvokeMember(_this.props.popoverProps, \"onClosing\", node);\n    };\n\n    _this.resetQuery = function () {\n      return _this.queryList && _this.queryList.setQuery(\"\", true);\n    };\n\n    return _this;\n  }\n\n  Select.ofType = function () {\n    return Select;\n  };\n\n  Select.prototype.render = function () {\n    // omit props specific to this component, spread the rest.\n    var _a = this.props,\n        filterable = _a.filterable,\n        inputProps = _a.inputProps,\n        popoverProps = _a.popoverProps,\n        restProps = tslib_1.__rest(_a, [\"filterable\", \"inputProps\", \"popoverProps\"]);\n\n    return React.createElement(this.TypedQueryList, tslib_1.__assign({}, restProps, {\n      onItemSelect: this.handleItemSelect,\n      ref: this.refHandlers.queryList,\n      renderer: this.renderQueryList\n    }));\n  };\n\n  Select.prototype.componentDidUpdate = function (_prevProps, prevState) {\n    if (this.state.isOpen && !prevState.isOpen && this.queryList != null) {\n      this.queryList.scrollActiveItemIntoView();\n    }\n  };\n\n  Select.prototype.maybeRenderClearButton = function (query) {\n    return query.length > 0 ? React.createElement(Button, {\n      icon: \"cross\",\n      minimal: true,\n      onClick: this.resetQuery\n    }) : undefined;\n  };\n\n  Select.displayName = DISPLAYNAME_PREFIX + \".Select\";\n  return Select;\n}(React.PureComponent);\n\nexport { Select };"],"sourceRoot":""}